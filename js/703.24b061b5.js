"use strict";(globalThis["webpackChunkapp_telos_net"]=globalThis["webpackChunkapp_telos_net"]||[]).push([[703],{69342:(e,t,r)=>{r.d(t,{U:()=>o});r(40702);var s=r(33100);const a=new RegExp(/Qm[1-9A-HJ-NP-Za-km-z]{44}(\/.*)?/,"m"),o={data(){return{rules:{accountExists:async e=>!await this.isAccountFree(e.toLowerCase())||this.$t("forms.errors.accountNotExists",{account:e}),accountFormat:e=>/^([a-z]|[1-5]|.){1,12}$/.test(e.toLowerCase())||this.$t("forms.errors.accountFormat"),accountFormatBasic:e=>/^([a-z]|[1-5]){12}$/.test(e.toLowerCase())||this.$t("forms.errors.accountFormatBasic"),accountLength:e=>e.length<=12||this.$t("forms.errors.accountLength"),dateFuture:e=>t=>new Date(t).getTime()>=new Date(e).getTime()||this.$t("forms.errors.dateFuture"),greaterOrEqualThan:e=>t=>t>=e||this.$t("forms.errors.greaterOrEqualThan",{value:e}),minimumOptions:e=>t=>t.length>=e||this.$t("forms.errors.greaterOrEqualThan",{value:e}),isAccountAvailable:async e=>await this.isAccountFree(e.toLowerCase())||this.$t("forms.errors.accountNotAvailable",{account:e}),isInteger:e=>Number.isInteger(parseInt(e))||this.$t("forms.errors.integer"),isToken:e=>e.length>=2&&e.length<=6||this.$t("forms.errors.token"),isTokenDecimals:e=>parseInt(e)>=0&&parseInt(e)<=9||this.$t("forms.errors.tokenDecimals"),positiveInteger:e=>parseInt(e)>0||this.$t("forms.errors.positiveInteger"),isValidIPFShash:e=>e.match(a)||"Invalid IPFS HASH format",required:e=>!!e||this.$t("forms.errors.required")}}},methods:{...(0,s.nv)("accounts",["isAccountFree"]),async validate(e){if(!e)return!0;for await(const t of Object.keys(e))this.$refs[t]&&await this.$refs[t].validate();return Object.keys(e).reduce(((e,t)=>e&&(!this.$refs[t]||!this.$refs[t].hasError)),!0)},resetValidation(e){e&&Object.keys(e).forEach((e=>this.$refs[e]&&this.$refs[e].resetValidation()))}}}},13703:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var s=r(59835);function a(e,t,r,a,o,n){const l=(0,s.up)("q-input"),i=(0,s.up)("q-btn"),u=(0,s.up)("q-card-section"),c=(0,s.up)("q-card"),m=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(m,{class:"flex flex-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l,{class:"q-mb-lg",ref:"to",modelValue:o.form.to,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.to=e),color:"accent",label:"To",outlined:"",maxlength:"12",rules:[e.rules.required,e.rules.accountFormat,e.rules.accountLength,e.rules.accountExists],"lazy-rules":"",debounce:200,onBlur:t[1]||(t[1]=e=>o.form.to=(o.form.to||"").toLowerCase())},null,8,["modelValue","rules"]),(0,s.Wm)(l,{class:"q-mb-lg",ref:"quantity",modelValue:o.form.quantity,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.quantity=e),color:"accent",label:"Amount",outlined:"",rules:[e.rules.required],"lazy-rules":""},null,8,["modelValue","rules"]),(0,s.Wm)(l,{class:"q-mb-lg",ref:"memo",modelValue:o.form.memo,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.memo=e),color:"accent",label:"Memo",outlined:""},null,8,["modelValue"]),(0,s.Wm)(i,{class:"full-width",color:"primary",label:"Send",size:"lg",unelevated:"",loading:o.submitting,onClick:n.onSendTokens},null,8,["loading","onClick"])])),_:1}),o.transactionId?((0,s.wg)(),(0,s.j4)(u,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{label:"Transaction",color:"primary",icon:"fas fa-external-link-alt",onClick:t[4]||(t[4]=e=>n.openUrl(`/transaction/${o.transactionId}`)),target:"_blank",dense:"",flat:"",size:"8px"})])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})}r(6822);var o=r(33100),n=r(69342);const l={name:"SendTokens",mixins:[n.U],data(){return{form:{to:null,quantity:null,memo:null},transactionId:null,submitting:!1}},methods:{...(0,o.nv)("transfers",["sendTokens"]),...(0,o.OI)("general",["setErrorMsg"]),async onSendTokens(){if(this.resetValidation(this.form),await this.validate(this.form)){this.submitting=!0;try{const e=await this.sendTokens(this.form);e&&(this.transactionId=e.transactionId)}catch(e){const t=new Error(e);this.setErrorMsg(t.message)}this.submitting=!1}},openUrl(e){window.open(`https://explorer-test.telos.net${e}`)}}};var i=r(11639),u=r(69885),c=r(44458),m=r(63190),d=r(13119),h=r(68879),f=r(69984),g=r.n(f);const p=(0,i.Z)(l,[["render",a]]),w=p;g()(l,"components",{QPage:u.Z,QCard:c.Z,QCardSection:m.Z,QInput:d.Z,QBtn:h.Z})}}]);